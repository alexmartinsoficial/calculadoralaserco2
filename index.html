<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Ganhos - Laser CO₂ Reversi | Fismatek</title>
    <meta name="description" content="Descubra quanto sua clínica pode faturar com o Laser CO₂ Ultrapulsado Reversi. Condições especiais de lançamento até 26/10.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💎</text></svg>">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        /* Banner Urgência */
        .banner-urgencia {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .countdown {
            display: inline-flex;
            gap: 0.5rem;
            margin-left: 1rem;
            font-size: 1.1rem;
        }
        
        .countdown-item {
            background: rgba(255,255,255,0.2);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            min-width: 45px;
            display: inline-block;
        }
        
        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            backdrop-filter: blur(8px);
        }
        
        .modal-overlay.hidden {
            display: none;
        }
        
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            max-width: 520px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.4);
            animation: slideUp 0.4s ease-out;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(60px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #f3f4f6;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .modal-close:hover {
            background: #e5e7eb;
            transform: rotate(90deg);
        }
        
        .beneficios-list {
            background: #f0fdf4;
            border-left: 4px solid #22c55e;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
        }
        
        .beneficios-list p {
            margin: 0.5rem 0;
            color: #166534;
            font-weight: 600;
        }
        
        .urgencia-box {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 1rem;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
            margin: 1.5rem 0;
            animation: pulse 2s infinite;
            font-size: 1.1rem;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }
        
        .form-input {
            width: 100%;
            padding: 0.875rem;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            margin-bottom: 1rem;
            font-size: 1rem;
            transition: all 0.2s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }
        
        .btn-submit {
            width: 100%;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(139, 92, 246, 0.5);
        }
        
        .disclaimer {
            font-size: 0.75rem;
            color: #6b7280;
            text-align: center;
            margin-top: 1rem;
            line-height: 1.4;
        }
        
        /* WhatsApp Float */
        .whatsapp-float {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background: #25D366;
            color: white;
            padding: 14px 24px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.5);
            text-decoration: none;
            font-weight: bold;
            z-index: 9998;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .whatsapp-float:hover {
            transform: scale(1.08) translateY(-3px);
            box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6);
        }
        
        .whatsapp-icon {
            width: 26px;
            height: 26px;
        }
        
        /* Success Message */
        .success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 25px 60px rgba(0,0,0,0.3);
            z-index: 10000;
            text-align: center;
            min-width: 320px;
            display: none;
        }
        
        .success-message.show {
            display: block;
            animation: bounceIn 0.5s ease-out;
        }
        
        @keyframes bounceIn {
            0% { transform: translate(-50%, -50%) scale(0.3); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.05); }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        /* Responsive */
        @media (max-width: 640px) {
            .countdown {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                margin-top: 0.5rem;
                margin-left: 0;
            }
            
            .whatsapp-float span {
                display: none;
            }
            
            .whatsapp-float {
                padding: 16px;
                border-radius: 50%;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-blue-50">

    <!-- Banner de Urgência -->
    <div class="banner-urgencia">
        <div>
            ⚡ <strong>LANÇAMENTO REVERSI</strong> | Condições Especiais até 26/10
            <div class="countdown" id="countdown"></div>
        </div>
    </div>

    <!-- Container Principal -->
    <div class="min-h-screen p-4 sm:p-6 pb-24">
        <div class="max-w-6xl mx-auto">
            
            <!-- Header -->
            <div class="text-center mb-8 mt-6">
                <div class="inline-block bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-full text-sm font-bold mb-4">
                    🚀 LANÇAMENTO EXCLUSIVO
                </div>
                <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-800 mb-3">
                    Calculadora de Ganhos
                </h1>
                <p class="text-xl sm:text-2xl text-purple-700 font-semibold mb-2">
                    Laser CO₂ Ultrapulsado com Microcoring
                </p>
                <p class="text-lg sm:text-xl text-gray-600">
                    Reversi - Fismatek
                </p>
            </div>

            <!-- Simulador -->
            <div class="bg-white rounded-2xl shadow-xl p-4 sm:p-6 lg:p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                    🧮 Monte sua Simulação
                </h2>

                <!-- Categoria -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        Selecione a categoria predominante:
                    </label>
                    <div class="grid grid-cols-3 gap-2 sm:gap-3">
                        <button onclick="setCategoria('popular')" id="btn-popular" class="categoria-btn py-3 px-2 sm:px-4 rounded-lg font-semibold transition-all bg-blue-100 text-blue-700 hover:bg-blue-200 text-sm sm:text-base">
                            Popular
                        </button>
                        <button onclick="setCategoria('premium')" id="btn-premium" class="categoria-btn py-3 px-2 sm:px-4 rounded-lg font-semibold transition-all bg-purple-600 text-white shadow-lg scale-105 text-sm sm:text-base">
                            Premium
                        </button>
                        <button onclick="setCategoria('luxo')" id="btn-luxo" class="categoria-btn py-3 px-2 sm:px-4 rounded-lg font-semibold transition-all bg-amber-100 text-amber-700 hover:bg-amber-200 text-sm sm:text-base">
                            Luxo
                        </button>
                    </div>
                </div>

                <!-- Exemplo Discreto -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
                    <p class="text-xs text-gray-500 mb-2">Exemplos de categoria - Facial completo:</p>
                    <div class="grid grid-cols-3 gap-2 sm:gap-3 text-center">
                        <div>
                            <div class="text-xs font-semibold text-blue-600 mb-1">POPULAR</div>
                            <div class="text-base sm:text-lg font-bold text-blue-700">R$ 2.000</div>
                        </div>
                        <div>
                            <div class="text-xs font-semibold text-purple-600 mb-1">PREMIUM</div>
                            <div class="text-base sm:text-lg font-bold text-purple-700">R$ 3.000</div>
                        </div>
                        <div>
                            <div class="text-xs font-semibold text-amber-600 mb-1">LUXO</div>
                            <div class="text-base sm:text-lg font-bold text-amber-700">R$ 5.000</div>
                        </div>
                    </div>
                </div>

                <!-- Botão Tabela -->
                <div class="mb-6 text-center">
                    <button onclick="toggleTabela()" class="inline-flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2 px-5 rounded-lg transition-all border border-gray-300">
                        📄 <span id="btn-tabela-text">Ver</span> Tabela de Preços Completa
                    </button>
                </div>

                <!-- Tabela (oculta inicialmente) -->
                <div id="tabela-precos" class="hidden mb-6 p-4 sm:p-6 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Tabela de Sugestão de Preços</h3>
                    
                    <div class="mb-6 overflow-x-auto">
                        <h4 class="text-lg font-bold text-purple-700 mb-3">🔹 Procedimentos Não Cirúrgicos</h4>
                        <table class="w-full text-xs sm:text-sm bg-white rounded-lg overflow-hidden">
                            <thead class="bg-purple-100">
                                <tr>
                                    <th class="text-left p-2 sm:p-3 font-semibold">Protocolo</th>
                                    <th class="text-right p-2 sm:p-3 font-semibold">Popular</th>
                                    <th class="text-right p-2 sm:p-3 font-semibold">Premium</th>
                                    <th class="text-right p-2 sm:p-3 font-semibold">Luxo</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y">
                                <tr><td class="p-2 sm:p-3">Área da boca</td><td class="text-right p-2 sm:p-3">R$ 900</td><td class="text-right p-2 sm:p-3">R$ 1.200</td><td class="text-right p-2 sm:p-3">R$ 1.600</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Pescoço</td><td class="text-right p-2 sm:p-3">R$ 1.000</td><td class="text-right p-2 sm:p-3">R$ 2.500</td><td class="text-right p-2 sm:p-3">R$ 4.000</td></tr>
                                <tr><td class="p-2 sm:p-3">Mãos</td><td class="text-right p-2 sm:p-3">R$ 1.100</td><td class="text-right p-2 sm:p-3">R$ 1.500</td><td class="text-right p-2 sm:p-3">R$ 1.900</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Colo</td><td class="text-right p-2 sm:p-3">R$ 1.500</td><td class="text-right p-2 sm:p-3">R$ 1.900</td><td class="text-right p-2 sm:p-3">R$ 2.300</td></tr>
                                <tr><td class="p-2 sm:p-3">Bumbum de Pêssego</td><td class="text-right p-2 sm:p-3">R$ 1.700</td><td class="text-right p-2 sm:p-3">R$ 2.300</td><td class="text-right p-2 sm:p-3">R$ 3.000</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Olhar Diamante</td><td class="text-right p-2 sm:p-3">R$ 1.800</td><td class="text-right p-2 sm:p-3">R$ 2.500</td><td class="text-right p-2 sm:p-3">R$ 5.000</td></tr>
                                <tr><td class="p-2 sm:p-3 font-semibold">Face Sublime</td><td class="text-right p-2 sm:p-3 font-semibold">R$ 2.000</td><td class="text-right p-2 sm:p-3 font-semibold">R$ 3.000</td><td class="text-right p-2 sm:p-3 font-semibold">R$ 5.000</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Lift Premium</td><td class="text-right p-2 sm:p-3">R$ 3.000</td><td class="text-right p-2 sm:p-3">R$ 5.500</td><td class="text-right p-2 sm:p-3">R$ 8.000</td></tr>
                                <tr><td class="p-2 sm:p-3">Elegance Total</td><td class="text-right p-2 sm:p-3">R$ 4.000</td><td class="text-right p-2 sm:p-3">R$ 7.000</td><td class="text-right p-2 sm:p-3">R$ 10.000</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Skin Perfect</td><td class="text-right p-2 sm:p-3">R$ 4.200</td><td class="text-right p-2 sm:p-3">R$ 7.000</td><td class="text-right p-2 sm:p-3">R$ 10.000</td></tr>
                                <tr><td class="p-2 sm:p-3">Abdômen Platinum</td><td class="text-right p-2 sm:p-3">R$ 4.000</td><td class="text-right p-2 sm:p-3">R$ 6.000</td><td class="text-right p-2 sm:p-3">R$ 12.000</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3 font-semibold">Resurfacing</td><td class="text-right p-2 sm:p-3 font-semibold">R$ 5.000</td><td class="text-right p-2 sm:p-3 font-semibold">R$ 7.000</td><td class="text-right p-2 sm:p-3 font-semibold">R$ 10.000</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="overflow-x-auto">
                        <h4 class="text-lg font-bold text-blue-700 mb-3">🔹 Procedimentos Cirúrgicos</h4>
                        <table class="w-full text-xs sm:text-sm bg-white rounded-lg overflow-hidden">
                            <thead class="bg-blue-100">
                                <tr>
                                    <th class="text-left p-2 sm:p-3 font-semibold">Procedimento</th>
                                    <th class="text-right p-2 sm:p-3 font-semibold">Popular</th>
                                    <th class="text-right p-2 sm:p-3 font-semibold">Premium</th>
                                    <th class="text-right p-2 sm:p-3 font-semibold">Luxo</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y">
                                <tr><td class="p-2 sm:p-3">Lesões benignas pequenas</td><td class="text-right p-2 sm:p-3">R$ 800</td><td class="text-right p-2 sm:p-3">R$ 1.500</td><td class="text-right p-2 sm:p-3">R$ 2.500</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Ressecção de pintas</td><td class="text-right p-2 sm:p-3">R$ 800</td><td class="text-right p-2 sm:p-3">R$ 1.200</td><td class="text-right p-2 sm:p-3">R$ 2.000</td></tr>
                                <tr><td class="p-2 sm:p-3">Siringomas e mílias</td><td class="text-right p-2 sm:p-3">R$ 1.500</td><td class="text-right p-2 sm:p-3">R$ 2.000</td><td class="text-right p-2 sm:p-3">R$ 3.000</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Exérese de xantelasmas</td><td class="text-right p-2 sm:p-3">R$ 2.500</td><td class="text-right p-2 sm:p-3">R$ 4.000</td><td class="text-right p-2 sm:p-3">R$ 6.000</td></tr>
                                <tr><td class="p-2 sm:p-3">Excisão de cicatrizes</td><td class="text-right p-2 sm:p-3">R$ 2.500</td><td class="text-right p-2 sm:p-3">R$ 4.000</td><td class="text-right p-2 sm:p-3">R$ 6.000</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Vaporização de quelóides</td><td class="text-right p-2 sm:p-3">R$ 2.500</td><td class="text-right p-2 sm:p-3">R$ 4.000</td><td class="text-right p-2 sm:p-3">R$ 6.000</td></tr>
                                <tr><td class="p-2 sm:p-3">Laser intravaginal</td><td class="text-right p-2 sm:p-3">R$ 5.000</td><td class="text-right p-2 sm:p-3">R$ 8.000</td><td class="text-right p-2 sm:p-3">R$ 12.000</td></tr>
                                <tr class="bg-gray-50"><td class="p-2 sm:p-3">Blefaroplastia</td><td class="text-right p-2 sm:p-3">R$ 6.000</td><td class="text-right p-2 sm:p-3">R$ 8.500</td><td class="text-right p-2 sm:p-3">R$ 12.000</td></tr>
                                <tr><td class="p-2 sm:p-3">Ninfoplastia</td><td class="text-right p-2 sm:p-3">R$ 8.000</td><td class="text-right p-2 sm:p-3">R$ 12.000</td><td class="text-right p-2 sm:p-3">R$ 20.000</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Procedimentos por mês -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        Quantidade de procedimentos por mês: <span class="text-purple-600 text-lg" id="label-procedimentos">20</span>
                    </label>
                    <input type="range" id="slider-procedimentos" min="5" max="100" value="20" class="w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer">
                    <div class="flex justify-between text-xs text-gray-500 mt-1">
                        <span>5 proc.</span>
                        <span>50 proc.</span>
                        <span>100 proc.</span>
                    </div>
                </div>

                <!-- Mix de procedimentos -->
                <div class="mb-6">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        Distribuição dos procedimentos (%):
                    </label>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-gray-600">Facial completo e similares</span>
                                <span class="text-sm font-semibold text-purple-600" id="label-face">40%</span>
                            </div>
                            <input type="range" id="slider-face" min="0" max="100" value="40" class="w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer">
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-gray-600">Procedimentos cirúrgicos</span>
                                <span class="text-sm font-semibold text-blue-600" id="label-cirurgicos">30%</span>
                            </div>
                            <input type="range" id="slider-cirurgicos" min="0" max="100" value="30" class="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer">
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm text-gray-600">Outros procedimentos</span>
                                <span class="text-sm font-semibold text-green-600" id="label-outros">30%</span>
                            </div>
                            <div class="w-full h-2 bg-green-200 rounded-lg"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resultados -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6">
                <div class="bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl shadow-lg p-4 sm:p-6 text-white">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="text-2xl">📅</span>
                        <h3 class="text-base sm:text-lg font-semibold">Faturamento Mensal</h3>
                    </div>
                    <div class="text-3xl sm:text-4xl font-bold mb-2" id="result-mensal">R$ 0</div>
                    <div class="text-purple-200 text-xs sm:text-sm" id="result-mensal-desc">
                        Baseado em 20 procedimentos/mês
                    </div>
                </div>

                <div class="bg-gradient-to-br from-amber-500 to-amber-600 rounded-2xl shadow-lg p-4 sm:p-6 text-white">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="text-2xl">📈</span>
                        <h3 class="text-base sm:text-lg font-semibold">Projeção Anual</h3>
                    </div>
                    <div class="text-3xl sm:text-4xl font-bold mb-2" id="result-anual">R$ 0</div>
                    <div class="text-amber-200 text-xs sm:text-sm">
                        Potencial de faturamento em 12 meses
                    </div>
                </div>

                <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-lg p-4 sm:p-6 text-white">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="text-2xl">💰</span>
                        <h3 class="text-base sm:text-lg font-semibold">ROI Estimado</h3>
                    </div>
                    <div class="text-3xl sm:text-4xl font-bold mb-2" id="result-roi">0 meses</div>
                    <div class="text-green-200 text-xs sm:text-sm">
                        Tempo para retorno do investimento
                    </div>
                </div>
            </div>

            <!-- Info do Investimento -->
            <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">💰 Informações do Investimento</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <div class="text-sm text-gray-600 mb-1">Valor do Aparelho</div>
                        <div class="text-xl sm:text-2xl font-bold text-gray-800">R$ 229.900</div>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <div class="text-sm text-gray-600 mb-1">Entrada</div>
                        <div class="text-xl sm:text-2xl font-bold text-gray-800">R$ 10.000</div>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <div class="text-sm text-gray-600 mb-1">Parcela Mensal (36x)</div>
                        <div class="text-xl sm:text-2xl font-bold text-gray-800">R$ 6.108</div>
                    </div>
                </div>
                <div class="mt-4 p-4 bg-green-50 rounded-lg border-2 border-green-200">
                    <div class="text-sm font-semibold text-green-700 mb-1">Lucro Líquido Mensal (após parcela)</div>
                    <div class="text-2xl sm:text-3xl font-bold text-green-700" id="result-lucro">R$ 0</div>
                </div>
            </div>

            <!-- Breakdown -->
            <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">📊 Detalhamento por Tipo</h3>
                <div class="space-y-3">
                    <div class="flex justify-between items-center p-3 bg-purple-50 rounded-lg">
                        <span class="font-semibold text-gray-700 text-sm sm:text-base">Facial completo e similares</span>
                        <span class="text-purple-700 font-bold text-sm sm:text-base" id="breakdown-face">R$ 0/mês</span>
                    </div>
                    <div class="flex justify-between items-center p-3 bg-blue-50 rounded-lg">
                        <span class="font-semibold text-gray-700 text-sm sm:text-base">Procedimentos cirúrgicos</span>
                        <span class="text-blue-700 font-bold text-sm sm:text-base" id="breakdown-cirurgicos">R$ 0/mês</span>
                    </div>
                    <div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
                        <span class="font-semibold text-gray-700 text-sm sm:text-base">Outros procedimentos</span>
                        <span class="text-green-700 font-bold text-sm sm:text-base" id="breakdown-outros">R$ 0/mês</span>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center mt-8 text-gray-600 text-xs sm:text-sm space-y-1">
                <p>* Valores estimados baseados na tabela de preços sugerida</p>
                <p>Os resultados reais podem variar conforme demanda e mix de procedimentos</p>
            </div>

        </div>
    </div>

    <!-- Modal de Captura -->
    <div id="modalCaptura" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="closeModal" class="modal-close">×</button>
            
            <div class="text-center mb-4">
                <div class="text-5xl mb-3">🌟</div>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">
                    Receba Seu Plano de Faturamento Personalizado
                </h2>
                <p class="text-gray-600">
                    PDF completo com análise detalhada da sua simulação
                </p>
            </div>
            
            <div class="beneficios-list">
                <p>✓ Cronograma detalhado de ROI mês a mês</p>
                <p>✓ Plano de ação para os primeiros 90 dias</p>
                <p>✓ Comparativo de 3 cenários diferentes</p>
                <p>✓ Tabela completa de precificação estratégica</p>
            </div>
            
            <div class="urgencia-box">
                ⏰ Condição Especial de Lançamento válida até 26/10
            </div>
            
            <form name="captura-reversi" method="POST" data-netlify="true" netlify-honeypot="bot-field" id="formCaptura">
                <input type="hidden" name="form-name" value="captura-reversi">
                <input type="hidden" name="bot-field">
                
                <!-- Hidden fields com dados da simulação -->
                <input type="hidden" name="categoria" id="hidden-categoria">
                <input type="hidden" name="procedimentos" id="hidden-procedimentos">
                <input type="hidden" name="faturamento-mensal" id="hidden-faturamento">
                <input type="hidden" name="roi-meses" id="hidden-roi">
                
                <input type="text" name="nome" placeholder="Nome completo *" required class="form-input">
                <input type="email" name="email" placeholder="Email *" required class="form-input">
                <input type="tel" name="whatsapp" placeholder="WhatsApp (com DDD) *" required class="form-input" pattern="[0-9]{10,11}">
                <input type="text" name="cidade" placeholder="Cidade/Estado *" required class="form-input">
                
                <label class="flex items-center gap-2 mb-4 cursor-pointer">
                    <input type="checkbox" name="temClinica" value="sim" class="w-5 h-5">
                    <span class="text-sm text-gray-700">Já possuo clínica estabelecida</span>
                </label>
                
                <button type="submit" class="btn-submit">
                    📄 Receber Plano Personalizado em PDF
                </button>
            </form>
            
            <p class="disclaimer">
                Seus dados estão seguros. Ao enviar, você concorda em receber informações sobre o Reversi via email e WhatsApp.
            </p>
        </div>
    </div>

    <!-- Success Message -->
    <div id="successMessage" class="success-message">
        <div class="text-6xl mb-4">✅</div>
        <h3 class="text-2xl font-bold text-gray-800 mb-2">PDF Gerado com Sucesso!</h3>
        <p class="text-gray-600 mb-4">Verifique sua pasta de downloads</p>
        <p class="text-sm text-gray-500">Redirecionando para WhatsApp...</p>
    </div>

    <!-- WhatsApp Float Button -->
    <a href="https://wa.me/5562983160209?text=Ol%C3%A1!%20Gostaria%20de%20saber%20mais%20sobre%20a%20condi%C3%A7%C3%A3o%20de%20lan%C3%A7amento%20do%20Reversi" 
       class="whatsapp-float" 
       target="_blank"
       rel="noopener noreferrer"
       aria-label="Falar no WhatsApp">
        <svg class="whatsapp-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
        </svg>
        <span>Tire Dúvidas</span>
    </a>

    <script>
        // Estado da aplicação
        let state = {
            categoria: 'premium',
            procedimentosMes: 20,
            mostrarTabela: false,
            mixProcedimentos: {
                faceSublime: 40,
                cirurgicos: 30,
                outros: 30
            }
        };

        const investimento = {
            total: 229900,
            entrada: 10000,
            parcela: 6108
        };

        const precos = {
            popular: 2000,
            premium: 3000,
            luxo: 5000
        };

        const preciosMedios = {
            cirurgicos: {
                popular: 3000,
                premium: 5000,
                luxo: 8000
            },
            outros: {
                popular: 2500,
                premium: 4000,
                luxo: 6500
            }
        };

        // Formatar moeda
        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(valor);
        }

        // Calcular faturamento
        function calcularFaturamento() {
            const faceSublimeQtd = (state.procedimentosMes * state.mixProcedimentos.faceSublime) / 100;
            const cirurgicosQtd = (state.procedimentosMes * state.mixProcedimentos.cirurgicos) / 100;
            const outrosQtd = (state.procedimentosMes * state.mixProcedimentos.outros) / 100;

            const faturamentoFace = faceSublimeQtd * precos[state.categoria];
            const faturamentoCirurgicos = cirurgicosQtd * preciosMedios.cirurgicos[state.categoria];
            const faturamentoOutros = outrosQtd * preciosMedios.outros[state.categoria];

            const faturamentoMensal = faturamentoFace + faturamentoCirurgicos + faturamentoOutros;
            const faturamentoAnual = faturamentoMensal * 12;
            
            const lucroMensal = faturamentoMensal - investimento.parcela;
            const mesesParaROI = investimento.total / lucroMensal;

            return {
                mensal: faturamentoMensal,
                anual: faturamentoAnual,
                porTipo: {
                    faceSublime: faturamentoFace,
                    cirurgicos: faturamentoCirurgicos,
                    outros: faturamentoOutros
                },
                roi: {
                    lucroMensal,
                    mesesParaROI: mesesParaROI > 0 ? mesesParaROI : 0
                }
            };
        }

        // Atualizar UI
        function atualizarResultados() {
            const faturamento = calcularFaturamento();
            
            document.getElementById('result-mensal').textContent = formatarMoeda(faturamento.mensal);
            document.getElementById('result-mensal-desc').textContent = `Baseado em ${state.procedimentosMes} procedimentos/mês`;
            document.getElementById('result-anual').textContent = formatarMoeda(faturamento.anual);
            document.getElementById('result-roi').textContent = faturamento.roi.mesesParaROI > 0 ? 
                `${Math.ceil(faturamento.roi.mesesParaROI)} meses` : 'N/A';
            document.getElementById('result-lucro').textContent = formatarMoeda(faturamento.roi.lucroMensal);
            
            document.getElementById('breakdown-face').textContent = formatarMoeda(faturamento.porTipo.faceSublime) + '/mês';
            document.getElementById('breakdown-cirurgicos').textContent = formatarMoeda(faturamento.porTipo.cirurgicos) + '/mês';
            document.getElementById('breakdown-outros').textContent = formatarMoeda(faturamento.porTipo.outros) + '/mês';

            // Verificar se deve mostrar modal
            verificarModal();
        }

        // Set Categoria
        function setCategoria(cat) {
            state.categoria = cat;
            
            document.querySelectorAll('.categoria-btn').forEach(btn => {
                btn.className = 'categoria-btn py-3 px-2 sm:px-4 rounded-lg font-semibold transition-all text-sm sm:text-base';
            });
            
            const cores = {
                popular: 'bg-blue-600 text-white shadow-lg scale-105',
                premium: 'bg-purple-600 text-white shadow-lg scale-105',
                luxo: 'bg-amber-600 text-white shadow-lg scale-105'
            };
            
            const coresInativas = {
                popular: 'bg-blue-100 text-blue-700 hover:bg-blue-200',
                premium: 'bg-purple-100 text-purple-700 hover:bg-purple-200',
                luxo: 'bg-amber-100 text-amber-700 hover:bg-amber-200'
            };
            
            document.getElementById('btn-popular').className += ' ' + (cat === 'popular' ? cores.popular : coresInativas.popular);
            document.getElementById('btn-premium').className += ' ' + (cat === 'premium' ? cores.premium : coresInativas.premium);
            document.getElementById('btn-luxo').className += ' ' + (cat === 'luxo' ? cores.luxo : coresInativas.luxo);
            
            atualizarResultados();
        }

        // Toggle Tabela
        function toggleTabela() {
            state.mostrarTabela = !state.mostrarTabela;
            const tabela = document.getElementById('tabela-precos');
            const btnText = document.getElementById('btn-tabela-text');
            
            if (state.mostrarTabela) {
                tabela.classList.remove('hidden');
                btnText.textContent = 'Ocultar';
            } else {
                tabela.classList.add('hidden');
                btnText.textContent = 'Ver';
            }
        }

        // Slider Procedimentos
        document.getElementById('slider-procedimentos').addEventListener('input', (e) => {
            state.procedimentosMes = Number(e.target.value);
            document.getElementById('label-procedimentos').textContent = state.procedimentosMes;
            atualizarResultados();
        });

        // Slider Face
        document.getElementById('slider-face').addEventListener('input', (e) => {
            const valor = Number(e.target.value);
            const resto = 100 - valor;
            state.mixProcedimentos = {
                faceSublime: valor,
                cirurgicos: Math.round(resto * 0.5),
                outros: resto - Math.round(resto * 0.5)
            };
            document.getElementById('label-face').textContent = valor + '%';
            document.getElementById('label-cirurgicos').textContent = state.mixProcedimentos.cirurgicos + '%';
            document.getElementById('label-outros').textContent = state.mixProcedimentos.outros + '%';
            atualizarResultados();
        });

        // Slider Cirúrgicos
        document.getElementById('slider-cirurgicos').addEventListener('input', (e) => {
            const valor = Number(e.target.value);
            const resto = 100 - valor;
            state.mixProcedimentos = {
                faceSublime: Math.round(resto * 0.5),
                cirurgicos: valor,
                outros: resto - Math.round(resto * 0.5)
            };
            document.getElementById('slider-face').value = state.mixProcedimentos.faceSublime;
            document.getElementById('label-face').textContent = state.mixProcedimentos.faceSublime + '%';
            document.getElementById('label-cirurgicos').textContent = valor + '%';
            document.getElementById('label-outros').textContent = state.mixProcedimentos.outros + '%';
            atualizarResultados();
        });

        // Countdown
        function iniciarContador() {
            const dataLimite = new Date('2024-10-26T23:59:59').getTime();
            
            setInterval(() => {
                const agora = new Date().getTime();
                const diferenca = dataLimite - agora;
                
                if (diferenca < 0) {
                    document.getElementById('countdown').innerHTML = '<span class="text-yellow-300">OFERTA ENCERRADA</span>';
                    return;
                }
                
                const dias = Math.floor(diferenca / (1000 * 60 * 60 * 24));
                const horas = Math.floor((diferenca % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutos = Math.floor((diferenca % (1000 * 60 * 60)) / (1000 * 60));
                const segundos = Math.floor((diferenca % (1000 * 60)) / 1000);
                
                document.getElementById('countdown').innerHTML = `
                    <span class="countdown-item">${dias}d</span>
                    <span class="countdown-item">${horas}h</span>
                    <span class="countdown-item">${minutos}m</span>
                    <span class="countdown-item">${segundos}s</span>
                `;
            }, 1000);
        }

        // Verificar se deve mostrar modal
        let modalJaMostrado = false;
        function verificarModal() {
            if (modalJaMostrado || localStorage.getItem('leadCapturado')) return;
            
            const faturamento = calcularFaturamento();
            const roiMeses = faturamento.roi.mesesParaROI;
            
            if (roiMeses > 0 && roiMeses < 15) {
                setTimeout(() => {
                    document.getElementById('modalCaptura').classList.remove('hidden');
                    modalJaMostrado = true;
                }, 5000);
            }
        }

        // Fechar modal
        document.getElementById('closeModal').addEventListener('click', () => {
            document.getElementById('modalCaptura').classList.add('hidden');
        });

        // Click fora do modal
        document.getElementById('modalCaptura').addEventListener('click', (e) => {
            if (e.target.id === 'modalCaptura') {
                document.getElementById('modalCaptura').classList.add('hidden');
            }
        });

        // Submit form
        document.getElementById('formCaptura').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const dados = {
                nome: formData.get('nome'),
                email: formData.get('email'),
                whatsapp: formData.get('whatsapp'),
                cidade: formData.get('cidade'),
                temClinica: formData.get('temClinica') === 'sim',
                simulacao: {
                    categoria: state.categoria,
                    procedimentosMes: state.procedimentosMes,
                    faturamento: calcularFaturamento()
                }
            };
            
            // Preencher campos hidden
            document.getElementById('hidden-categoria').value = state.categoria;
            document.getElementById('hidden-procedimentos').value = state.procedimentosMes;
            document.getElementById('hidden-faturamento').value = dados.simulacao.faturamento.mensal;
            document.getElementById('hidden-roi').value = Math.ceil(dados.simulacao.faturamento.roi.mesesParaROI);
            
            // Gerar PDF
            await gerarPDF(dados);
            
            // Marcar como capturado
            localStorage.setItem('leadCapturado', 'true');
            
            // Fechar modal
            document.getElementById('modalCaptura').classList.add('hidden');
            
            // Mostrar sucesso
            const successMsg = document.getElementById('successMessage');
            successMsg.classList.add('show');
            
            // Enviar para Netlify Forms (em background)
            fetch('/', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: new URLSearchParams(new FormData(e.target))
            });
            
            // Redirecionar para WhatsApp após 3 segundos
            setTimeout(() => {
                const mensagem = `Olá! Acabei de baixar meu Plano de Faturamento Reversi. Gostaria de mais informações sobre a condição de lançamento (válida até 26/10).`;
                window.open(`https://wa.me/5562983160209?text=${encodeURIComponent(mensagem)}`, '_blank');
                successMsg.classList.remove('show');
            }, 3000);
        });

        // Gerar PDF
        async function gerarPDF(dados) {
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF();
            
            const faturamento = dados.simulacao.faturamento;
            const roiMeses = Math.ceil(faturamento.roi.mesesParaROI);
            
            // Página 1 - Capa
            pdf.setFillColor(139, 92, 246);
            pdf.rect(0, 0, 210, 297, 'F');
            
            pdf.setTextColor(255, 255, 255);
            pdf.setFontSize(32);
            pdf.setFont(undefined, 'bold');
            pdf.text('PLANO DE FATURAMENTO', 105, 80, { align: 'center' });
            pdf.text('PERSONALIZADO', 105, 95, { align: 'center' });
            
            pdf.setFontSize(20);
            pdf.text(`${dados.nome}`, 105, 120, { align: 'center' });
            
            pdf.setFontSize(16);
            pdf.setFont(undefined, 'normal');
            pdf.text('Laser CO₂ Ultrapulsado com Microcoring', 105, 140, { align: 'center' });
            pdf.text('Reversi - Fismatek', 105, 150, { align: 'center' });
            
            pdf.setFontSize(14);
            pdf.text(`Simulação gerada em: ${new Date().toLocaleDateString('pt-BR')}`, 105, 180, { align: 'center' });
            
            pdf.setFillColor(255, 107, 107);
            pdf.roundedRect(30, 200, 150, 30, 5, 5, 'F');
            pdf.setFontSize(16);
            pdf.setFont(undefined, 'bold');
            pdf.text('⚡ Condição Especial até 26/10/2024', 105, 218, { align: 'center' });
            
            // Página 2 - Resumo Executivo
            pdf.addPage();
            pdf.setFillColor(255, 255, 255);
            pdf.rect(0, 0, 210, 297, 'F');
            
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(24);
            pdf.setFont(undefined, 'bold');
            pdf.text('Seu Potencial de Faturamento', 20, 30);
            
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            pdf.text('Dados da sua simulação:', 20, 50);
            pdf.text(`• Categoria: ${state.categoria.toUpperCase()}`, 30, 60);
            pdf.text(`• Procedimentos mensais: ${state.procedimentosMes}`, 30, 68);
            pdf.text(`• Mix: ${state.mixProcedimentos.faceSublime}% Facial | ${state.mixProcedimentos.cirurgicos}% Cirúrgicos | ${state.mixProcedimentos.outros}% Outros`, 30, 76);
            
            // Resultados em destaque
            pdf.setFontSize(14);
            pdf.setFont(undefined, 'bold');
            pdf.text('🎯 Seus Resultados Projetados:', 20, 95);
            
            pdf.setFillColor(243, 244, 246);
            pdf.roundedRect(20, 100, 170, 80, 3, 3, 'F');
            
            pdf.setFontSize(11);
            pdf.text('Faturamento Mensal:', 30, 115);
            pdf.setFontSize(18);
            pdf.setTextColor(139, 92, 246);
            pdf.text(formatarMoeda(faturamento.mensal), 30, 125);
            
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(11);
            pdf.text('Faturamento Anual:', 30, 140);
            pdf.setFontSize(18);
            pdf.setTextColor(245, 158, 11);
            pdf.text(formatarMoeda(faturamento.anual), 30, 150);
            
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(11);
            pdf.text('Lucro Líquido Mensal:', 30, 165);
            pdf.setFontSize(18);
            pdf.setTextColor(34, 197, 94);
            pdf.text(formatarMoeda(faturamento.roi.lucroMensal), 30, 175);
            
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(11);
            pdf.text('ROI (Retorno):', 120, 115);
            pdf.setFontSize(24);
            pdf.setTextColor(220, 38, 38);
            pdf.setFont(undefined, 'bold');
            pdf.text(`${roiMeses} meses`, 120, 130);
            
            // Análise
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(11);
            pdf.setFont(undefined, 'normal');
            pdf.text('🏆 Análise:', 20, 195);
            const analise = `Com base na sua simulação, seu investimento se paga em menos de ${roiMeses <= 12 ? '1 ano' : Math.ceil(roiMeses/12) + ' anos'}, gerando um lucro líquido superior a ${formatarMoeda(faturamento.roi.lucroMensal * 12)} no primeiro ano.`;
            const splitAnalise = pdf.splitTextToSize(analise, 170);
            pdf.text(splitAnalise, 20, 205);
            
            // Página 3 - Investimento
            pdf.addPage();
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(24);
            pdf.setFont(undefined, 'bold');
            pdf.text('💰 Informações do Investimento', 20, 30);
            
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            
            pdf.setFillColor(243, 244, 246);
            pdf.roundedRect(20, 45, 170, 25, 3, 3, 'F');
            pdf.text('Valor Total do Equipamento:', 30, 58);
            pdf.setFontSize(16);
            pdf.setFont(undefined, 'bold');
            pdf.text('R$ 229.900,00', 30, 67);
            
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            pdf.setFillColor(243, 244, 246);
            pdf.roundedRect(20, 75, 170, 25, 3, 3, 'F');
            pdf.text('Entrada:', 30, 88);
            pdf.setFontSize(16);
            pdf.setFont(undefined, 'bold');
            pdf.text('R$ 10.000,00', 30, 97);
            
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            pdf.setFillColor(243, 244, 246);
            pdf.roundedRect(20, 105, 170, 25, 3, 3, 'F');
            pdf.text('Saldo em 36x sem juros:', 30, 118);
            pdf.setFontSize(16);
            pdf.setFont(undefined, 'bold');
            pdf.text('R$ 6.108,00/mês', 30, 127);
            
            // Destaque lucro
            pdf.setFillColor(220, 252, 231);
            pdf.roundedRect(20, 140, 170, 30, 3, 3, 'F');
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            pdf.setTextColor(22, 101, 52);
            pdf.text('💚 Lucro Líquido Mensal (após parcela):', 30, 155);
            pdf.setFontSize(20);
            pdf.setFont(undefined, 'bold');
            pdf.text(formatarMoeda(faturamento.roi.lucroMensal), 30, 165);
            
            // Condição de lançamento
            pdf.setTextColor(255, 255, 255);
            pdf.setFillColor(239, 68, 68);
            pdf.roundedRect(20, 180, 170, 40, 5, 5, 'F');
            pdf.setFontSize(14);
            pdf.setFont(undefined, 'bold');
            pdf.text('⚡ CONDIÇÃO ESPECIAL DE LANÇAMENTO', 105, 195, { align: 'center' });
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            pdf.text('Válida apenas até 26/10/2024', 105, 205, { align: 'center' });
            pdf.text('Após esta data, condições normais serão aplicadas', 105, 213, { align: 'center' });
            
            // Página 4 - Cronograma ROI
            pdf.addPage();
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(24);
            pdf.setFont(undefined, 'bold');
            pdf.text('📈 Cronograma de Retorno', 20, 30);
            
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            pdf.text('Linha do tempo do seu investimento:', 20, 45);
            
            // Marcos financeiros
            const lucroMensal = faturamento.roi.lucroMensal;
            const marcos = [
                { mes: Math.ceil(roiMeses * 0.5), desc: '50% recuperado', valor: investimento.total * 0.5 },
                { mes: roiMeses, desc: '100% recuperado', valor: investimento.total },
                { mes: 12, desc: 'Lucro acumulado', valor: lucroMensal * 12 - investimento.total },
                { mes: 24, desc: 'Lucro ano 2', valor: lucroMensal * 12 },
                { mes: 36, desc: 'Lucro ano 3', valor: lucroMensal * 12 }
            ];
            
            let yPos = 60;
            marcos.forEach((marco, index) => {
                pdf.setFillColor(index === 1 ? 220 : 243, index === 1 ? 252 : 244, index === 1 ? 231 : 246);
                pdf.roundedRect(20, yPos, 170, 20, 2, 2, 'F');
                pdf.setFontSize(11);
                pdf.setFont(undefined, 'bold');
                pdf.text(`✅ Mês ${marco.mes}: ${marco.desc}`, 30, yPos + 8);
                pdf.setFont(undefined, 'normal');
                pdf.text(formatarMoeda(marco.valor), 30, yPos + 16);
                yPos += 25;
            });
            
            // Total 36 meses
            pdf.setFillColor(139, 92, 246);
            pdf.roundedRect(20, yPos + 10, 170, 30, 5, 5, 'F');
            pdf.setTextColor(255, 255, 255);
            pdf.setFontSize(14);
            pdf.setFont(undefined, 'bold');
            pdf.text('💎 Total Acumulado em 36 meses:', 30, yPos + 23);
            pdf.setFontSize(18);
            const totalAcumulado = (lucroMensal * 36) - investimento.total;
            pdf.text(formatarMoeda(totalAcumulado), 30, yPos + 35);
            
            // Página 5 - Detalhamento
            pdf.addPage();
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(24);
            pdf.setFont(undefined, 'bold');
            pdf.text('📊 Breakdown Completo', 20, 30);
            
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            pdf.text('Distribuição de procedimentos e faturamento:', 20, 45);
            
            // Facial
            pdf.setFillColor(243, 232, 255);
            pdf.roundedRect(20, 55, 170, 30, 3, 3, 'F');
            pdf.setFontSize(11);
            pdf.setFont(undefined, 'bold');
            pdf.text(`🎨 Facial Completo e Similares (${state.mixProcedimentos.faceSublime}%)`, 30, 68);
            pdf.setFont(undefined, 'normal');
            const faceQtd = Math.round((state.procedimentosMes * state.mixProcedimentos.faceSublime) / 100);
            pdf.text(`• ${faceQtd} procedimentos/mês`, 30, 76);
            pdf.text(`• Ticket médio: ${formatarMoeda(precos[state.categoria])}`, 30, 82);
            pdf.setFont(undefined, 'bold');
            pdf.text(`• Subtotal: ${formatarMoeda(faturamento.porTipo.faceSublime)}/mês`, 100, 76);
            pdf.text(`• Anual: ${formatarMoeda(faturamento.porTipo.faceSublime * 12)}`, 100, 82);
            
            // Cirúrgicos
            pdf.setFillColor(219, 234, 254);
            pdf.roundedRect(20, 90, 170, 30, 3, 3, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.text(`🔹 Procedimentos Cirúrgicos (${state.mixProcedimentos.cirurgicos}%)`, 30, 103);
            pdf.setFont(undefined, 'normal');
            const cirurQtd = Math.round((state.procedimentosMes * state.mixProcedimentos.cirurgicos) / 100);
            pdf.text(`• ${cirurQtd} procedimentos/mês`, 30, 111);
            pdf.text(`• Ticket médio: ${formatarMoeda(preciosMedios.cirurgicos[state.categoria])}`, 30, 117);
            pdf.setFont(undefined, 'bold');
            pdf.text(`• Subtotal: ${formatarMoeda(faturamento.porTipo.cirurgicos)}/mês`, 100, 111);
            pdf.text(`• Anual: ${formatarMoeda(faturamento.porTipo.cirurgicos * 12)}`, 100, 117);
            
            // Outros
            pdf.setFillColor(220, 252, 231);
            pdf.roundedRect(20, 125, 170, 30, 3, 3, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.text(`✨ Outros Procedimentos (${state.mixProcedimentos.outros}%)`, 30, 138);
            pdf.setFont(undefined, 'normal');
            const outrosQtd = Math.round((state.procedimentosMes * state.mixProcedimentos.outros) / 100);
            pdf.text(`• ${outrosQtd} procedimentos/mês`, 30, 146);
            pdf.text(`• Ticket médio: ${formatarMoeda(preciosMedios.outros[state.categoria])}`, 30, 152);
            pdf.setFont(undefined, 'bold');
            pdf.text(`• Subtotal: ${formatarMoeda(faturamento.porTipo.outros)}/mês`, 100, 146);
            pdf.text(`• Anual: ${formatarMoeda(faturamento.porTipo.outros * 12)}`, 100, 152);
            
            // Insight
            pdf.setFillColor(254, 249, 195);
            pdf.roundedRect(20, 165, 170, 25, 3, 3, 'F');
            pdf.setFontSize(11);
            pdf.setFont(undefined, 'normal');
            pdf.text('💡 Insight:', 30, 178);
            pdf.text(`Aumentando apenas 5 procedimentos/mês, você pode`, 30, 185);
            pdf.text(`reduzir seu ROI significativamente.`, 30, 192);
            
            // Página 6 - Plano de Ação 90 dias
            pdf.addPage();
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(24);
            pdf.setFont(undefined, 'bold');
            pdf.text('🎯 Plano de Ação - Primeiros 90 Dias', 20, 30);
            
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            
            // Mês 1
            pdf.setFillColor(239, 246, 255);
            pdf.roundedRect(20, 45, 170, 45, 3, 3, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.text('📅 Mês 1: Preparação', 30, 58);
            pdf.setFont(undefined, 'normal');
            pdf.setFontSize(10);
            pdf.text('✅ Treinamento completo da equipe (incluído)', 30, 66);
            pdf.text('✅ Definição de protocolos clínicos', 30, 72);
            pdf.text('✅ Estratégia de marketing para divulgação', 30, 78);
            pdf.text('✅ Precificação e posicionamento', 30, 84);
            pdf.setFont(undefined, 'bold');
            pdf.text('🎯 Meta: 10 procedimentos', 120, 84);
            
            // Mês 2
            pdf.setFillColor(243, 232, 255);
            pdf.roundedRect(20, 95, 170, 45, 3, 3, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.setFontSize(12);
            pdf.text('📅 Mês 2: Aceleração', 30, 108);
            pdf.setFont(undefined, 'normal');
            pdf.setFontSize(10);
            pdf.text('✅ Ajuste fino dos procedimentos', 30, 116);
            pdf.text('✅ Captação de cases antes/depois', 30, 122);
            pdf.text('✅ Programas de fidelização', 30, 128);
            pdf.text('✅ Análise de resultados iniciais', 30, 134);
            pdf.setFont(undefined, 'bold');
            pdf.text('🎯 Meta: 15 procedimentos', 120, 134);
            
            // Mês 3
            pdf.setFillColor(220, 252, 231);
            pdf.roundedRect(20, 145, 170, 45, 3, 3, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.setFontSize(12);
            pdf.text('📅 Mês 3: Escala', 30, 158);
            pdf.setFont(undefined, 'normal');
            pdf.setFontSize(10);
            pdf.text('✅ Otimização da agenda', 30, 166);
            pdf.text('✅ Estratégias de upsell e cross-sell', 30, 172);
            pdf.text('✅ Parcerias estratégicas', 30, 178);
            pdf.text('✅ Ampliação do mix de procedimentos', 30, 184);
            pdf.setFont(undefined, 'bold');
            pdf.text('🎯 Meta: 20+ procedimentos', 120, 184);
            
            // Página 7 - Diferenciais
            pdf.addPage();
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(24);
            pdf.setFont(undefined, 'bold');
            pdf.text('💎 Por Que Reversi?', 20, 30);
            
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            
            // Tecnologia
            pdf.setFillColor(243, 232, 255);
            pdf.roundedRect(20, 45, 170, 40, 3, 3, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.text('🔬 Tecnologia Exclusiva:', 30, 58);
            pdf.setFont(undefined, 'normal');
            pdf.setFontSize(10);
            pdf.text('• Microcoring - único no Brasil', 30, 66);
            pdf.text('• Resultados superiores comprovados', 30, 72);
            pdf.text('• Menor downtime para pacientes', 30, 78);
            
            // Vantagens Comerciais
            pdf.setFillColor(220, 252, 231);
            pdf.roundedRect(20, 90, 170, 40, 3, 3, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.setFontSize(12);
            pdf.text('💼 Vantagens Comerciais:', 30, 103);
            pdf.setFont(undefined, 'normal');
            pdf.setFontSize(10);
            pdf.text('• Procedimentos de alto ticket', 30, 111);
            pdf.text('• Baixa concorrência (pioneirismo)', 30, 117);
            pdf.text('• Diferenciação imediata no mercado', 30, 123);
            
            // Suporte
            pdf.setFillColor(219, 234, 254);
            pdf.roundedRect(20, 135, 170, 40, 3, 3, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.setFontSize(12);
            pdf.text('👥 Suporte Completo:', 30, 148);
            pdf.setFont(undefined, 'normal');
            pdf.setFontSize(10);
            pdf.text('• Treinamento incluído', 30, 156);
            pdf.text('• Suporte técnico contínuo', 30, 162);
            pdf.text('• Comunidade de usuários Reversi', 30, 168);
            
            // Página 8 - Próximos Passos
            pdf.addPage();
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(24);
            pdf.setFont(undefined, 'bold');
            pdf.text('🚀 Próximos Passos', 20, 30);
            
            pdf.setFontSize(13);
            pdf.setFont(undefined, 'normal');
            pdf.text('Como garantir sua condição de lançamento:', 20, 50);
            
            // Opções de contato
            pdf.setFillColor(220, 252, 231);
            pdf.roundedRect(20, 60, 170, 30, 5, 5, 'F');
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'bold');
            pdf.text('📞 Opção 1: Falar com Consultor', 30, 73);
            pdf.setFont(undefined, 'normal');
            pdf.text('WhatsApp: (62) 98316-0209', 30, 81);
            pdf.text('Email: vendasrennovari7@gmail.com', 30, 87);
            
            pdf.setFillColor(219, 234, 254);
            pdf.roundedRect(20, 95, 170, 20, 5, 5, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.text('🔍 Opção 2: Agendar Demonstração Presencial', 30, 108);
            
            pdf.setFillColor(254, 249, 195);
            pdf.roundedRect(20, 120, 170, 20, 5, 5, 'F');
            pdf.setFont(undefined, 'bold');
            pdf.text('💬 Opção 3: Tirar Suas Dúvidas', 30, 133);
            
            // Urgência final
            pdf.setFillColor(239, 68, 68);
            pdf.roundedRect(20, 155, 170, 35, 5, 5, 'F');
            pdf.setTextColor(255, 255, 255);
            pdf.setFontSize(16);
            pdf.setFont(undefined, 'bold');
            pdf.text('⏰ LEMBRE-SE:', 105, 168, { align: 'center' });
            pdf.setFontSize(14);
            pdf.text('Condição especial válida até 26/10/2024', 105, 180, { align: 'center' });
            
            // Página 9 - Contracapa
            pdf.addPage();
            pdf.setFillColor(139, 92, 246);
            pdf.rect(0, 0, 210, 297, 'F');
            
            pdf.setTextColor(255, 255, 255);
            pdf.setFontSize(22);
            pdf.setFont(undefined, 'bold');
            pdf.text('📊 Seu Resumo em Números', 105, 80, { align: 'center' });
            
            pdf.setFontSize(14);
            pdf.setFont(undefined, 'normal');
            
            const resumoY = 110;
            const espacamento = 20;
            
            pdf.text('Investimento:', 105, resumoY, { align: 'center' });
            pdf.setFontSize(20);
            pdf.setFont(undefined, 'bold');
            pdf.text('R$ 229.900', 105, resumoY + 8, { align: 'center' });
            
            pdf.setFontSize(14);
            pdf.setFont(undefined, 'normal');
            pdf.text('Faturamento Ano 1:', 105, resumoY + espacamento + 10, { align: 'center' });
            pdf.setFontSize(20);
            pdf.setFont(undefined, 'bold');
            pdf.text(formatarMoeda(faturamento.anual), 105, resumoY + espacamento + 18, { align: 'center' });
            
            pdf.setFontSize(14);
            pdf.setFont(undefined, 'normal');
            pdf.text('ROI:', 105, resumoY + (espacamento * 2) + 20, { align: 'center' });
            pdf.setFontSize(20);
            pdf.setFont(undefined, 'bold');
            pdf.text(`${roiMeses} meses`, 105, resumoY + (espacamento * 2) + 28, { align: 'center' });
            
            pdf.setFontSize(14);
            pdf.setFont(undefined, 'normal');
            pdf.text('Lucro Estimado 3 Anos:', 105, resumoY + (espacamento * 3) + 30, { align: 'center' });
            pdf.setFontSize(20);
            pdf.setFont(undefined, 'bold');
            pdf.text(formatarMoeda(totalAcumulado), 105, resumoY + (espacamento * 3) + 38, { align: 'center' });
            
            // Footer
            pdf.setFontSize(12);
            pdf.setFont(undefined, 'normal');
            pdf.text('Reversi - Fismatek', 105, 250, { align: 'center' });
            pdf.text('www.fismatek.com', 105, 258, { align: 'center' });
            pdf.text('(62) 98316-0209', 105, 266, { align: 'center' });
            
            // Salvar PDF
            const nomeArquivo = `Plano_Reversi_${dados.nome.replace(/\s+/g, '_')}.pdf`;
            pdf.save(nomeArquivo);
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            iniciarContador();
            atualizarResultados();
        });
    </script>

</body>
</html>
